(this["webpackJsonppitching-and-moaning"]=this["webpackJsonppitching-and-moaning"]||[]).push([[0],{22:function(e,t,n){e.exports=n(39)},39:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),o=n(19),r=n.n(o),s=(n(27),n(9)),c=n(10),h=n(12),u=n(11),d=n(2),l=n(13),v=n(20),p=n.n(v),w=n(4),g=n(6),f=n.n(g),A=n(14),I=n(16),m=n(0),_=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).getRendererSize=n.getRendererSize.bind(Object(d.a)(n)),n.updateAnimationSize=n.updateAnimationSize.bind(Object(d.a)(n)),n.buildAnimation=n.buildAnimation.bind(Object(d.a)(n)),n.loadAnimationAssets=n.loadAnimationAssets.bind(Object(d.a)(n)),n.generateSprites=n.generateSprites.bind(Object(d.a)(n)),n.buildInteractions=n.buildInteractions.bind(Object(d.a)(n)),n.showAnimation=n.showAnimation.bind(Object(d.a)(n)),n.state={isLoaded:!1},n.CANVAS_SIZE=new w.b(3200,2320),n.ASSET=function(e){return"/pitching-and-moaning/animation_assets/".concat(e)},n.ANIMATION_ROOT=a.a.createRef();var i=n.getRendererSize(e.parentSize,n.CANVAS_SIZE);return n.PIXI_APP={renderer:new m.i({antialias:!0,autoDensity:!0,resolution:window.devicePixelRatio,backgroundColor:16777215,width:i.width,height:i.height}),stage:new m.a({interactive:!0}),ticker:new m.g,sprites:{frame:null,char:null,char_eye:{left:null,right:null,sclera:null},waves:{0:null,1:null,2:null,3:null},sky:null}},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.buildAnimation()}},{key:"componentDidUpdate",value:function(e,t){var n=e.parentSize,i=this.props.parentSize;n.width===i.width&&n.height===i.height||this.updateAnimationSize();var a=t.isLoaded;this.state.isLoaded&&!a&&this.ANIMATION_ROOT.appendChild(this.PIXI_APP.renderer.view)}},{key:"componentWillUnmount",value:function(){this.PIXI_APP.ticker.stop(),this.PIXI_APP.renderer.destroy(!0)}},{key:"render",value:function(){var e=this,t=this.state.isLoaded,n=this.props.parentSize,i={width:n.width,height:n.height,display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.5s ease-out"};if(!t){var o=Object(I.a)({},i,{backgroundColor:"black",color:"white"});return a.a.createElement("div",{style:o},a.a.createElement("div",{style:{textAlign:"center"}},"...pitching, and moaning..."))}return a.a.createElement("div",{style:i,ref:function(t){return e.ANIMATION_ROOT=t}})}},{key:"buildAnimation",value:function(){var e=Object(A.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAnimationAssets();case 2:this.generateSprites(),this.buildInteractions(),this.showAnimation();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadAnimationAssets",value:function(){var e=Object(A.a)(f.a.mark((function e(){var t=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=t.ASSET;m.b.shared.add(n("frame.png")).add(n("sky.png")).add(n("ss_char.json")).add(n("ss_sea.json")).load(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateSprites",value:function(){var e=this.ASSET,t=m.b.shared,n=new m.e(t.resources[e("frame.png")].texture),i=new m.e(t.resources[e("sky.png")].texture),a=t.resources[e("ss_char.json")].spritesheet.textures,o=new m.e(a["char.png"]),r=new m.e(m.f.WHITE),s=new m.e(a["eye_left.png"]),c=new m.e(a["eye_right.png"]);o.anchor.set(.5),o.position.set(1611,1385.5),o._STATES={_DEFAULT:{texture:a["char.png"],position:[1611,1385.5]},_HOVER:{texture:a["char_hover.png"],position:new m.d(1611,1381.9)},_CLICK:{texture:a["char_click.png"],position:new m.d(0,0)}},s._CENTER={x:1545,y:1024.5},c._CENTER={x:1679.5,y:1023.5},s.anchor.set(.5),c.anchor.set(.5),s.position.set(s._CENTER.x,s._CENTER.y),c.position.set(c._CENTER.x,c._CENTER.y),r.width=221,r.height=79,r.anchor.set(.5),r.position.set(1610.5,1023.5);var h=t.resources[e("ss_sea.json")].spritesheet.textures,u=new m.e(h["wave_1.png"]),d=new m.e(h["wave_2.png"]),l=new m.e(h["wave_3.png"]),v=new m.e(h["wave_4.png"]);u.anchor.set(.5),u.position.set(2444.5,1386.5),d.anchor.set(.5),d.position.set(823.5,1253.5),l.anchor.set(.5),l.position.set(1686.5,1545.5),v.anchor.set(.5),v.position.set(954,1604),this.PIXI_APP.sprites={frame:n,char:o,char_eye:{left:s,right:c,sclera:r},waves:{0:u,1:d,2:l,3:v},sky:i}}},{key:"buildInteractions",value:function(){var e=this,t=this.PIXI_APP,n=t.renderer,i=t.stage,a=t.sprites,o=t.ticker;i.interactive=!0,i.on("mousemove",(function(t){!function(t){for(var n in e.PIXI_APP.sprites.char_eye)if("sclera"!==n){n=e.PIXI_APP.sprites.char_eye[n];var i={x:t.x-n.x,y:t.y-n.y},a=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));i.x=i.x/a,i.y=i.y>1?2.32*i.y/a:i.y/a,n.position.set(n._CENTER.x+13*i.x,n._CENTER.y+5*i.y)}}(function(t){var n=e.PIXI_APP.stage,i=e.CANVAS_SIZE,a=i.width/n.width,o=i.height/n.height;return{x:t.x*a,y:t.y*o}}(t.data.global))}));var r=a.waves;!function(){for(var e in r[0]._ANIMATION={value:0,changeInValue:.0035,movement:.23,rotation:.0125,func:function(e){var t=r[0],n=t._ANIMATION.value;n>m.c&&(n=0);var i=t._ANIMATION,a=i.changeInValue,o=i.movement,s=i.rotation;t.position.y+=o*Math.sin(n),t.rotation=s*Math.sin(n),t._ANIMATION.value=n+a*e}},r[1]._ANIMATION={value:0,changeInValue:.0037,movement:.1,rotation:.0125,func:function(e){var t=r[1],n=t._ANIMATION.value;n>m.c&&(n=0);var i=t._ANIMATION,a=i.changeInValue,o=i.movement,s=i.rotation;t.position.y+=o*Math.cos(n),t.rotation=s*Math.sin(n),t._ANIMATION.value=n+a*e}},r[2]._ANIMATION={value:0,changeInValue:.0125,movement:.3,rotation:.0225,func:function(e){var t=r[2],n=t._ANIMATION.value;n>m.c&&(n=0);var i=t._ANIMATION,a=i.changeInValue,o=i.movement,s=i.rotation;t.position.y+=o*Math.sin(n),t.rotation=s*Math.sin(n),t._ANIMATION.value=n+a*e}},r[3]._ANIMATION={value:0,changeInValue:.0175,movement:.2,rotation:.03,func:function(e){var t=r[3],n=t._ANIMATION.value;n>m.c&&(n=0);var i=t._ANIMATION,a=i.changeInValue,o=i.movement,s=i.rotation;t.position.y+=o*Math.sin(n),t.rotation=s*Math.sin(n),t._ANIMATION.value=n+a*e}},r)e=r[e],o.add(e._ANIMATION.func)}(),o.add((function(){n.render(i)}),m.h.HIGH)}},{key:"showAnimation",value:function(){var e=this.PIXI_APP,t=e.stage,n=e.ticker,i=e.sprites;for(var a in t.addChild(i.sky),i.waves)a=i.waves[a],t.addChild(a);t.addChild(i.char_eye.sclera),t.addChild(i.char_eye.left),t.addChild(i.char_eye.right),t.addChild(i.char),t.addChild(i.frame),this.updateAnimationSize(),n.start(),this.setState(Object(I.a)({},this.state,{isLoaded:!0}))}},{key:"getRendererSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.parentSize,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.CANVAS_SIZE;return Object(w.c)({container:e,target:t,policy:w.a.ShowAll})}},{key:"updateAnimationSize",value:function(){var e=this.PIXI_APP,t=e.renderer,n=e.stage,i=this.getRendererSize(),a=i.width,o=i.height;n.width=a,n.height=o,t.resize(a,o)}}]),t}(a.a.Component),y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).setWindowSize=p()(n.setWindowSize.bind(Object(d.a)(n)),125),n.state={windowSize:new w.b(window.innerWidth,window.innerHeight)},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setWindowSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setWindowSize)}},{key:"render",value:function(){return a.a.createElement(_,{parentSize:this.state.windowSize})}},{key:"setWindowSize",value:function(){var e=new w.b(window.innerWidth,window.innerHeight),t=this.state.windowSize;if(e.width!==t.width||e.height!==t.height){var n=e;this.setState({windowSize:n})}}}]),t}(a.a.Component),b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(a.a.createElement(y,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pitching-and-moaning",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pitching-and-moaning","/service-worker.js");b?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(t,e)}))}}()}},[[22,1,2]]]);
//# sourceMappingURL=main.1ec92588.chunk.js.map